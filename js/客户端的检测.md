### å®¢æˆ·ç«¯çš„æ£€æµ‹  ----ç¬¬å››ç‰ˆjsé«˜çº§ç¨‹åºè®¾è®¡ ï¼ˆåä¸‰ç« ã€ç¬”è®°ã€‘ï¼‰

* èƒ½åŠ›æ£€æµ‹
    * æœ€æœ‰æ•ˆçš„åœºæ™¯æ˜¯æ£€æµ‹èƒ½åŠ›`æ˜¯å¦å­˜åœ¨`çš„åŒæ—¶,`éªŒè¯`å…¶æ˜¯å¦`èƒ½å¤Ÿå±•ç°å‡ºé¢„æœŸçš„è¡Œä¸º`ã€‚

    ```js
    //é™¤äº†è¦æ£€æµ‹æ˜¯å¦å­˜åœ¨ ï¼Œè¿˜è¦æ£€æµ‹ç±»å‹
    // è¿›è¡Œèƒ½åŠ›æ£€æµ‹æ—¶åº”è¯¥å°½é‡ä½¿ç”¨ typeof æ“ä½œç¬¦ï¼Œä½†å…‰æœ‰å®ƒè¿˜ä¸å¤Ÿã€‚å°¤å…¶æ˜¯æŸäº›å®¿ä¸»å¯¹è±¡å¹¶ä¸ä¿è¯å¯¹ typeof æµ‹è¯•è¿”å›åˆç†çš„å€¼ã€‚
    function isSortable(object) {
        return typeof object.sort == "function";
    }
    ```
* åŸºäºèƒ½åŠ›æ£€æµ‹è¿›è¡Œæµè§ˆå™¨åˆ†æ
    * ä½¿ç”¨èƒ½åŠ›æ£€æµ‹å¯ä»¥ç²¾å‡†åœ°åˆ†æè¿è¡Œä»£ç çš„æµè§ˆå™¨ã€‚
    * ä½¿ç”¨`èƒ½åŠ›æ£€æµ‹`è€Œé`ç”¨æˆ·ä»£ç†æ£€æµ‹`çš„ä¼˜ç‚¹åœ¨äºï¼Œ`ä¼ªé€ ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²å¾ˆç®€å•`ï¼Œè€Œä¼ªé€ èƒ½å¤Ÿæ¬ºéª—`èƒ½åŠ›æ£€æµ‹`çš„`æµè§ˆå™¨ç‰¹æ€§`å´å¾ˆéš¾ã€‚

    1. æ£€æµ‹ç‰¹æ€§
        å¯ä»¥æŒ‰ç…§èƒ½åŠ›å°†æµè§ˆå™¨å½’ç±»ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨ç‰¹å®šçš„æµè§ˆå™¨èƒ½åŠ›ï¼Œé‚£ä¹ˆ`æœ€å¥½é›†ä¸­æ£€æµ‹æ‰€æœ‰èƒ½åŠ›`ï¼Œè€Œä¸æ˜¯ç­‰åˆ°ç”¨çš„æ—¶å€™å†é‡å¤æ£€æµ‹ã€‚

        ```js
        // æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ Netscape å¼çš„æ’ä»¶
        let hasNSPlugins = !!(navigator.plugins && navigator.plugins.length);

        // æ£€æµ‹æµè§ˆå™¨æ˜¯å¦å…·æœ‰ DOM Level 1 èƒ½åŠ›
        let hasDOM1 = !!(document.getElementById && document.createElement &&
                    document.getElementsByTagName);
        ```

    2. æ£€æµ‹æµè§ˆå™¨
    æ ¹æ®`ä¸åŒæµè§ˆå™¨ç‹¬æœ‰çš„è¡Œä¸º`æ¨æ–­å‡ºæµè§ˆå™¨çš„èº«ä»½ã€‚  --ï¼ˆ ä¸ºäº†æµ‹è¯•ä¸‹é¢çš„æ–¹æ³•ï¼Œé™¤äº†ieæµè§ˆå™¨éƒ½å®‰è£…äº†ğŸ˜ï¼‰

    ```js
      class BrowserDetector {
      constructor() {
        // æµ‹è¯•æ¡ä»¶ç¼–è¯‘
        // IE6~10 æ”¯æŒ
        this.isIE_Gte6Lte10 = /*@cc_on!@*/false;
        // æµ‹è¯•documentMode
        // IE7~11 æ”¯æŒ
        this.isIE_Gte7Lte11 = !!document.documentMode;
        // æ³¨æ„ è¦æ·±å…¥äº†è§£JavaScriptèƒ½åŠ›æ£€æµ‹ï¼Œæ¨èé˜…è¯»PeterMichauxçš„æ–‡ç« â€œFeatureDetectionâ€” State of the Art Browser Scriptingâ€ã€‚
        // æµ‹è¯• StyleMedia æ„é€ å‡½æ•°
        // Edge 20 åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒ this.isEdge_Gte20 = !!window.StyleMedia;
        // æµ‹è¯•Firefoxä¸“æœ‰æ‰©å±•å®‰è£…API
        // æ‰€æœ‰ç‰ˆæœ¬çš„ Firefox éƒ½æ”¯æŒ  -- æµ‹è¯•å¯ä»¥
        this.isFirefox_Gte1 = typeof InstallTrigger !== 'undefined';

        // æµ‹è¯• chrome å¯¹è±¡åŠå…¶ webstore å±æ€§
        // Operaçš„æŸäº›ç‰ˆæœ¬æœ‰window.chromeï¼Œä½†æ²¡æœ‰window.chrome.webstore
        // æ‰€æœ‰ç‰ˆæœ¬çš„ Chrome éƒ½æ”¯æŒ --æµ‹è¯•äº†window.chrome.webstoreæ²¡æœ‰ åªæœ‰window.chrome
        this.isChrome_Gte1 = !!window.chrome && !!window.chrome.webstore;

        // Safari æ—©æœŸç‰ˆæœ¬ä¼šç»™æ„é€ å‡½æ•°çš„æ ‡ç­¾ç¬¦è¿½åŠ "Constructor"å­—æ ·ï¼Œå¦‚:
        // window.Element.toString(); // [object ElementConstructor]
        // Safari 3~9.1 æ”¯æŒ
        this.isSafari_Gte3Lte9_1 = /constructor/i.test(window.Element);

        // æ¨é€é€šçŸ¥ API æš´éœ²åœ¨ window å¯¹è±¡ä¸Š
        // ä½¿ç”¨é»˜è®¤å‚æ•°å€¼ä»¥é¿å…å¯¹undefinedè°ƒç”¨toString() // Safari 7.1 åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒ this.isSafari_Gte7_1 = æµ‹è¯•å¯ä»¥
        (({pushNotification = {}} = {}) =>
        pushNotification.toString() == '[object SafariRemoteNotification]'
            )(window.safari);

        // æµ‹è¯• addons å±æ€§
        // Opera 20 åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒ  æµ‹è¯•äº†æœ‰window.opr ï¼Œæ²¡æœ‰window.opr.addons
        this.isOpera_Gte20 = !!window.opr && !!window.opr.addons;

        // 13.1 èƒ½åŠ›æ£€æµ‹
        isIE() { return this.isIE_Gte6Lte10 || this.isIE_Gte7Lte11; }
        isEdge() { return this.isEdge_Gte20 && !this.isIE(); }
        isFirefox() { return this.isFirefox_Gte1; }
        isChrome() { return this.isChrome_Gte1; }
        isSafari() { return this.isSafari_Gte3Lte9_1 || this.isSafari_Gte7_1; }
        isOpera() { return this.isOpera_Gte20; }
    }
    ```

    * æ”¹å˜æµè§ˆå™¨ç”¨æˆ·ä»£ç† `__defineGetter__`

        ```js
        window.navigator.__defineGetter__('userAgent', () => 'foobar');
        window.navigator.__defineGetter__('vendor', () => 'vendor1');
        // âœ¨ é€šè¿‡ __defineGetter__ éƒ½å¯ä»¥æ›´æ”¹navigator æ‰€æœ‰å±æ€§
        ```

* è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹
    ç°ä»£æµè§ˆå™¨æä¾›äº†ä¸€ç»„`ä¸é¡µé¢æ‰§è¡Œç¯å¢ƒ`ç›¸å…³çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬`æµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿã€ç¡¬ä»¶å’Œå‘¨è¾¹è®¾å¤‡ä¿¡æ¯`ã€‚ è¿™äº›å±æ€§å¯ä»¥é€šè¿‡æš´éœ²åœ¨ `window.navigator` ä¸Šçš„ä¸€ç»„ API è·å¾—ã€‚ä¸è¿‡ï¼Œè¿™äº›APIçš„è·¨æµè§ˆå™¨æ”¯æŒè¿˜ä¸å¤Ÿå¥½ï¼Œè¿œæœªè¾¾åˆ°æ ‡å‡†åŒ–çš„ç¨‹åº¦ã€‚
    * æ³¨æ„ï¼šå¼ºçƒˆå»ºè®®åœ¨`ä½¿ç”¨è¿™äº› API ä¹‹å‰`å…ˆ `æ£€æµ‹å®ƒä»¬æ˜¯å¦å­˜åœ¨`ï¼Œå› ä¸ºå…¶ä¸­å¤šæ•°éƒ½ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä¸”å¾ˆå¤šæµè§ˆå™¨æ²¡æœ‰æ”¯æŒ.

    1. è¯†åˆ«æµè§ˆå™¨ä¸æ“ä½œç³»ç»Ÿ
        1. navigator.oscpu
        2. navigator.vendor
            æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šå¸¸åŒ…å«æµè§ˆå™¨å¼€å‘å•†ä¿¡æ¯ã€‚
        3. navigator.platform
            æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šå¸¸è¡¨ç¤ºæµè§ˆå™¨æ‰€åœ¨çš„æ“ä½œç³»ç»Ÿã€‚
        4. screen.colorDepth å’Œ screen.pixelDepth
            * screen.colorDepthå’Œscreen.pixelDepthè¿”å›ä¸€æ ·çš„å€¼ï¼Œå³æ˜¾ç¤ºå™¨`æ¯åƒç´ é¢œè‰²çš„ä½æ·±`ã€‚
            * CSS å¯¹è±¡æ¨¡å‹(CSSOM)è§„èŒƒ:
            screen.colorDepth å’Œ screen.pixelDepth å±æ€§åº”è¯¥è¿”å›è¾“å‡º`è®¾å¤‡ä¸­æ¯åƒç´ `ç”¨äº`æ˜¾ç¤ºé¢œè‰²çš„ä½æ•°`ï¼Œ`ä¸åŒ…å« alpha é€šé“`ã€‚
        5. screen.orientation
        screen.orientation å±æ€§è¿”å›ä¸€ä¸ª `ScreenOrientation å¯¹è±¡`ï¼Œå…¶ä¸­åŒ…å« Screen Orientation API å®šä¹‰çš„å±å¹•ä¿¡æ¯ã€‚è¿™é‡Œé¢æœ€æœ‰æ„æ€çš„å±æ€§æ˜¯ `angle å’Œ type`ï¼Œå‰è€…è¿”å›ç›¸å¯¹äº`é»˜è®¤çŠ¶æ€ä¸‹å±å¹•çš„è§’åº¦`ï¼Œ åè€…è¿”å›ä»¥ä¸‹ 4 ç§æšä¸¾å€¼ä¹‹ä¸€:
        
    2. æµè§ˆå™¨å…ƒæ•°æ®
         navigator å¯¹è±¡æš´éœ²å‡ºä¸€äº› APIï¼Œå¯ä»¥æä¾›æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿçš„çŠ¶æ€ä¿¡æ¯ã€‚
        1. Geolocation API
            * navigator.geolocation å±æ€§æš´éœ²äº† `Geolocation API`ï¼Œå¯ä»¥è®©æµè§ˆå™¨è„šæœ¬æ„ŸçŸ¥`å½“å‰è®¾å¤‡çš„åœ°ç†ä½ç½®`ã€‚è¿™ä¸ªAPIåª`åœ¨å®‰å…¨æ‰§è¡Œç¯å¢ƒ`(é€šè¿‡ HTTPS è·å–çš„è„šæœ¬)ä¸­å¯ç”¨.
            * è¿™ä¸ª API å¯ä»¥æŸ¥è¯¢å®¿ä¸»ç³»ç»Ÿå¹¶å°½å¯èƒ½ç²¾ç¡®åœ°è¿”å›è®¾å¤‡çš„ä½ç½®ä¿¡æ¯ã€‚
                * getCurrentPosition()
                * watchPosition()
                * clearWatch()
        2. Connection State å’Œ NetworkInformation API
            * Connection State
                * æµè§ˆå™¨ä¼šè·Ÿè¸ªç½‘ç»œè¿æ¥çŠ¶æ€å¹¶ä»¥ä¸¤ç§æ–¹å¼æš´éœ²è¿™äº›ä¿¡æ¯:è¿æ¥äº‹ä»¶å’Œ `navigator.onLine å±æ€§`ã€‚åœ¨è®¾å¤‡è¿æ¥åˆ°ç½‘ç»œæ—¶ï¼Œæµè§ˆå™¨ä¼šè®°å½•è¿™ä¸ªäº‹å®å¹¶åœ¨ window å¯¹è±¡ä¸Šè§¦å‘ online äº‹ä»¶ã€‚
                    ```js
                    const connectionStateChange = () => console.log(navigator.onLine);//è¿”å›ä¸€ä¸ªboolean
                    window.addEventListener('online', connectionStateChange); window.addEventListener('offline', connectionStateChange);
                    ```
            * navigator å¯¹è±¡è¿˜æš´éœ²äº† `NetworkInformation API`ï¼Œå¯ä»¥é€šè¿‡ `navigator.connection` å±æ€§ä½¿ç”¨:
                * downlink:æ•´æ•°ï¼Œè¡¨ç¤ºå½“å‰è®¾å¤‡çš„å¸¦å®½(ä»¥ Mbit/s ä¸ºå•ä½)ï¼Œèˆå…¥åˆ°æœ€æ¥è¿‘çš„ 25kbit/sã€‚
                * effectiveType:å­—ç¬¦ä¸²æšä¸¾å€¼ï¼Œè¡¨ç¤ºè¿æ¥é€Ÿåº¦å’Œè´¨é‡ã€‚æ¯”å¦‚ï¼š4g/3g/2g
                * rtt:æ¯«ç§’ï¼Œè¡¨ç¤ºå½“å‰ç½‘ç»œå®é™…çš„å¾€è¿”æ—¶é—´ï¼Œèˆå…¥ä¸ºæœ€æ¥è¿‘çš„ 25 æ¯«ç§’ã€‚
                * type:å­—ç¬¦ä¸²æšä¸¾å€¼ï¼Œè¡¨ç¤ºç½‘ç»œè¿æ¥æŠ€æœ¯ã€‚
                    * bluetooth:è“ç‰™/ cellular:èœ‚çªã€‚/ethernet:ä»¥å¤ªç½‘ã€‚/none:æ— ç½‘ç»œè¿æ¥ã€‚ç›¸å½“äº navigator.onLine === falseã€‚/wifi:Wi-Fiã€‚

        3. Battery Status API
            * æµè§ˆå™¨å¯ä»¥è®¿é—®`è®¾å¤‡ç”µæ± åŠå……ç”µçŠ¶æ€`çš„ä¿¡æ¯ã€‚navigator.getBattery()æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªPromiseå®ä¾‹ 

            ```js
            navigator.getBattery().then((b) => console.log(b));
            // BatteryManager { ... }
            ```      
            * BatteryManager åŒ…å« 4 ä¸ªåªè¯»å±æ€§ï¼Œæä¾›äº†è®¾å¤‡ç”µæ± çš„ç›¸å…³ä¿¡æ¯ã€‚
                * charging:å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè®¾å¤‡å½“å‰æ˜¯å¦æ­£æ¥å…¥ç”µæºå……ç”µã€‚å¦‚æœè®¾å¤‡æ²¡æœ‰ç”µæ± ï¼Œåˆ™è¿”å› trueã€‚
                * chargingTime:æ•´æ•°ï¼Œè¡¨ç¤ºé¢„è®¡ç¦»ç”µæ± å……æ»¡è¿˜æœ‰å¤šå°‘ç§’ã€‚å¦‚æœç”µæ± å·²å……æ»¡æˆ–è®¾å¤‡æ²¡æœ‰ç”µæ± ,è¿”å›0
                * dischargingTime:æ•´æ•°ï¼Œè¡¨ç¤ºé¢„è®¡ç¦»ç”µé‡è€—å°½è¿˜æœ‰å¤šå°‘ç§’ã€‚å¦‚æœè®¾å¤‡æ²¡æœ‰ç”µæ± ï¼Œåˆ™è¿”å› Infinityã€‚
                * level:æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºç”µé‡ç™¾åˆ†æ¯”ã€‚ç”µé‡å®Œå…¨è€—å°½è¿”å› 0.0ï¼Œç”µæ± å……æ»¡è¿”å› 1.0ã€‚å¦‚æœè®¾å¤‡æ²¡æœ‰ç”µæ± ï¼Œåˆ™è¿”å› 1.0ã€‚
                
            * è¿˜æä¾›äº† 4 ä¸ªäº‹ä»¶å±æ€§ï¼Œå¯ç”¨äºè®¾ç½®åœ¨ç›¸åº”çš„ç”µæ± äº‹ä»¶å‘ç”Ÿæ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚
            ```js
            navigator.getBattery().then((battery) => {
                // æ·»åŠ å……ç”µçŠ¶æ€å˜åŒ–æ—¶çš„å¤„ç†ç¨‹åº
                const chargingChangeHandler = () => console.log('chargingchange'); battery.onchargingchange = chargingChangeHandler;
                // æˆ–
                battery.addEventListener('chargingchange', chargingChangeHandler);
                // æ·»åŠ å……ç”µæ—¶é—´å˜åŒ–æ—¶çš„å¤„ç†ç¨‹åº
                const chargingTimeChangeHandler = () => console.log('chargingtimechange'); battery.onchargingtimechange = chargingTimeChangeHandler;
                // æˆ–
                battery.addEventListener('chargingtimechange', chargingTimeChangeHandler);
             
                // æ·»åŠ æ”¾ç”µæ—¶é—´å˜åŒ–æ—¶çš„å¤„ç†ç¨‹åº 13 const dischargingTimeChangeHandler = () => console.log('dischargingtimechange'); battery.ondischargingtimechange = dischargingTimeChangeHandler;
                // æˆ–
                battery.addEventListener('dischargingtimechange', dischargingTimeChangeHandler);
                // æ·»åŠ ç”µé‡ç™¾åˆ†æ¯”å˜åŒ–æ—¶çš„å¤„ç†ç¨‹åº
                const levelChangeHandler = () => console.log('levelchange'); battery.onlevelchange = levelChangeHandler;
                // æˆ–
                battery.addEventListener('levelchange', levelChangeHandler);
            });

            ```
        4.  ç¡¬ä»¶
            * æµè§ˆå™¨æ£€æµ‹ç¡¬ä»¶çš„èƒ½åŠ›ç›¸å½“æœ‰é™ã€‚ä¸è¿‡ï¼Œnavigator å¯¹è±¡è¿˜æ˜¯é€šè¿‡ä¸€äº›å±æ€§æä¾›äº†åŸºæœ¬ä¿¡æ¯ã€‚
                1. å¤„ç†å™¨æ ¸å¿ƒæ•°
                    navigator.hardwareConcurrency å±æ€§è¿”å›æµè§ˆå™¨æ”¯æŒçš„é€»è¾‘å¤„ç†å™¨æ ¸å¿ƒæ•°é‡ï¼ŒåŒ…å«è¡¨ç¤ºæ ¸å¿ƒæ•°çš„ä¸€ä¸ªæ•´æ•°å€¼
                2. è®¾å¤‡å†…å­˜å¤§å°
                    navigator.deviceMemory å±æ€§è¿”å›è®¾å¤‡å¤§è‡´çš„ç³»ç»Ÿå†…å­˜å¤§å°ï¼ŒåŒ…å«å•ä½ä¸º GB çš„æµ®ç‚¹æ•°ã€‚
                3. æœ€å¤§è§¦ç‚¹æ•°
                    navigator.maxTouchPoints å±æ€§è¿”å›è§¦æ‘¸å±æ”¯æŒçš„æœ€å¤§å…³è”è§¦ç‚¹æ•°é‡ï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°å€¼ã€‚
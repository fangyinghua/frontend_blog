### ✨ 两种源码组织模式
两种源码组织模式：`多仓库 multi-repo`和`单体仓库 mono-repo`;

##### 🪐多仓库:
* 优点：
    1. 每一个服务都有一个独立的仓库，职责单一。
    2. 代码量和复杂性受控，服务由不同的团队独立维护、边界清晰。
    3. 单个服务也易于自治开发测试部署和扩展，不需要集中管理集中协调。

* 缺点：
    1. 项目代码不容易规范。每个团队容易各自为政，随意引入依赖，code review 无法集中开展，代码风格各不相同。
    2. 项目`集成和部署`会比较麻烦。虽然每个项目服务易于集成和部署，但是整个应用集成和部署的时候由于仓库分散就需要集中的管理和协调。
    3. 开发人员缺乏对整个项目的整体认知。开发人员一般只关心自己的服务代码，看不到项目整体，造成缺乏对项目整体架构和业务目标整体性的理解。
    4. 项目间冗余代码多。每个服务一个服务一个仓库，势必造成团队在开发的时候走捷径，不断地重复造轮子而不是去优先重用其他团队开发的代码。

##### 🪐单体仓库:

* 优点：
    1. 易于规范代码。所有的代码在一个仓库当中就可以标准化依赖管理，集中开展 code review，规范化代码的风格。
    2. 易于集成和部署。所有的代码在一个仓库里面，配合自动化构建工具，可以做到一键构建、一键部署，一般不需要特别的集中管理和协调。
    3. 易于理解项目整体。开发人员可以把整个项目加载到本地的 IDE 当中，进行 code review，也可以直接在本地部署调试，方便开发人员把握整体的技术架构和业务目标。
    4. 易于重用。所有的代码都在一个仓库中，开发人员开发的时候比较容易发现和重用已有的代码，而不是去重复造轮子，开发人员（通过 IDE 的支持）容易对现有代码进行重构，可以抽取出一些公共的功能进一步提升代码的质量和复用度。
    

##### 🪐如何创建单体仓库

* lerna
    * Lerna 是一个管理工具，用于管理包含多个软件包（package）的 JavaScript 项目。
    * Lerna 是一种工具，针对 使用 git 和 npm 管理多软件包代码仓库的工作流程进行优化.
    * 使用步骤：
        1. 首先使用 npm 将 Lerna 安装到全局环境中：
        <code>npm install --global lerna</code>
        2. 创建一个新的 git 代码仓库：
        <code>git init lerna-repo && cd lerna-repo</code>
        3. 将上述仓库转变为一个 Lerna 仓库：
        <code>lerna init</code> 
        * 代码仓库目前应该是如下结构：
        ```
            lerna-repo/
                packages/
                package.json
                lerna.json
        ```
       
* yarn workspace
    * yarn workspace允许我们使用monrepo的形式来管理项目。
    * 在安装node_modules的时候，它不会安装到每个子项目的node_modules里面，而是安装到根项目下，这个每个子项目都可以读取到根目录的node_modules.
    * 整个项目只有根目录下面会有yarn.lock文件，子项目也会被link到node_modules里面，这样就允许我们就可以直接用import导入对应到项目。
    * yarn lick文件是自动生的，也完全yarn来处理yarn.lock锁定你安装的每个依赖项的版本。这可以确定你不会意外获得不良依赖。
